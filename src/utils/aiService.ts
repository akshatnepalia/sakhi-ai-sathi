interface ChatMessage {
  role: 'user' | 'assistant';
  content: string;
  timestamp: Date;
}

interface AIResponse {
  response: string;
  confidence: number;
  suggestions: string[];
  isAI: boolean;
}

class AIService {
  private apiKey: string | null = null;
  private baseURL = 'https://api.openai.com/v1/chat/completions';
  
  constructor() {
    this.apiKey = localStorage.getItem('openai_api_key');
  }

  setApiKey(key: string) {
    this.apiKey = key;
    localStorage.setItem('openai_api_key', key);
  }

  hasApiKey(): boolean {
    return !!this.apiKey;
  }

  async generateResponse(message: string, context: ChatMessage[] = []): Promise<AIResponse> {
    if (!this.hasApiKey()) {
      return this.getFallbackResponse(message);
    }

    try {
      const systemPrompt = `You are Sakhi, an AI business advisor for rural women entrepreneurs in India. You help with:
- Business planning and strategy
- Marketing and sales advice
- Financial planning and budgeting
- Government schemes and subsidies
- Product pricing and market analysis
- Digital marketing basics

Always respond with practical, actionable advice in simple language. Be culturally sensitive and understand the context of rural Indian business environment. Provide responses in both Hindi and English when helpful.`;

      const messages = [
        { role: 'system', content: systemPrompt },
        ...context.slice(-5).map(msg => ({ role: msg.role, content: msg.content })),
        { role: 'user', content: message }
      ];

      const response = await fetch(this.baseURL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`
        },
        body: JSON.stringify({
          model: 'gpt-4',
          messages,
          max_tokens: 500,
          temperature: 0.7
        })
      });

      if (!response.ok) {
        throw new Error(`API request failed: ${response.status}`);
      }

      const data = await response.json();
      const aiResponse = data.choices[0].message.content;

      return {
        response: aiResponse,
        confidence: 0.9,
        suggestions: this.generateSuggestions(message),
        isAI: true
      };
    } catch (error) {
      console.error('AI API Error:', error);
      return this.getFallbackResponse(message);
    }
  }

  private getFallbackResponse(message: string): AIResponse {
    const lowerMessage = message.toLowerCase();
    
    // Expanded world-level business database with comprehensive Q&A
    const businessDatabase = {
      // Business starting - Global best practices
      business: {
        keywords: ['business', '‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞', '‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø', 'start', '‡§∂‡•Å‡§∞‡•Ç', '‡§ï‡§æ‡§∞‡•ã‡§¨‡§æ‡§∞', 'enterprise', 'startup', 'company'],
        response: `üöÄ ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§µ‡§µ‡•ç‡§Ø‡§æ‡§™‡•Ä ‡§ó‡§æ‡§á‡§° | Global Business Starting Guide:

üí∞ BUDGET PLANNING (‡§¨‡§ú‡§ü ‡§Ø‡•ã‡§ú‡§®‡§æ):
‚Ä¢ ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§‡•Ä ‡§™‡•Ç‡§Ç‡§ú‡•Ä: ‚Çπ5,000-‚Çπ2,00,000 (Start with what you have)
‚Ä¢ 70% Production + 20% Marketing + 10% Emergency fund
‚Ä¢ ‡§§‡•Ä‡§® ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§ñ‡§∞‡•ç‡§ö ‡§Ö‡§≤‡§ó ‡§∞‡§ñ‡•á‡§Ç

üìä MARKET RESEARCH (‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ ‡§Ö‡§®‡•Å‡§∏‡§Ç‡§ß‡§æ‡§®):
‚Ä¢ ‡§Ö‡§™‡§®‡•á ‡§á‡§≤‡§æ‡§ï‡•á ‡§ï‡•Ä ‡§ú‡§º‡§∞‡•Ç‡§∞‡§§ ‡§™‡§π‡§ö‡§æ‡§®‡•á‡§Ç - What does your community need?
‚Ä¢ Competitors ‡§ï‡•Ä ‡§ï‡•Ä‡§Æ‡§§‡•á‡§Ç ‡§ö‡•á‡§ï ‡§ï‡§∞‡•á‡§Ç
‚Ä¢ Target customers ‡§∏‡•á ‡§¨‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç
‚Ä¢ Online trends ‡§≠‡•Ä ‡§¶‡•á‡§ñ‡•á‡§Ç (Google Trends)

üéØ BUSINESS MODEL OPTIONS:
‚Ä¢ B2C: Direct selling to customers (‡§∏‡•Ä‡§ß‡•á ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï‡•ã‡§Ç ‡§ï‡•ã)
‚Ä¢ B2B: Wholesale to shops (‡§¶‡•Å‡§ï‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§•‡•ã‡§ï)
‚Ä¢ Online: E-commerce platforms
‚Ä¢ Hybrid: Both online + offline

üìã LEGAL REQUIREMENTS:
‚Ä¢ Business registration (‚Çπ500-5000)
‚Ä¢ GST if turnover >‚Çπ20 lakh/year
‚Ä¢ Trade license from local authority
‚Ä¢ Bank account for business

üåç SUCCESS STORIES:
‚Ä¢ Sarah (Kenya): Started soap making with $50, now employs 20 women
‚Ä¢ Maya (Bangladesh): Handicrafts export, ‚Çπ50,000/month
‚Ä¢ Priya (India): Pickle business, ‚Çπ2 lakh/month

Start small, think global! ‡§õ‡•ã‡§ü‡•á ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç, ‡§¨‡§°‡§º‡§æ ‡§∏‡•ã‡§ö‡•á‡§Ç!`,
        suggestions: ['Business plan template', 'Market research tips', 'Legal requirements', 'Success stories']
      },

      // Comprehensive loan and funding information
      loan: {
        keywords: ['loan', '‡§≤‡•ã‡§®', '‡§™‡•à‡§∏‡§æ', 'funding', 'capital', 'mudra', '‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ', 'finance', 'credit', 'investment'],
        response: `üí∞ COMPREHENSIVE FUNDING GUIDE | ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§´‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§ó‡§æ‡§á‡§°:

üè¶ INDIAN GOVERNMENT SCHEMES:
‚Ä¢ MUDRA LOAN:
  - Shishu: Up to ‚Çπ50,000 (8-10% interest)
  - Kishore: ‚Çπ50,001 to ‚Çπ5 lakh (9-11% interest)
  - Tarun: ‚Çπ5,00,001 to ‚Çπ10 lakh (10-12% interest)
  - No collateral required

‚Ä¢ STAND-UP INDIA: ‚Çπ10 lakh to ‚Çπ1 crore
‚Ä¢ PMEGP: 15-35% subsidy (up to ‚Çπ25 lakh project)
‚Ä¢ SHG BANK LINKAGE: Through self-help groups
‚Ä¢ WOMEN ENTREPRENEUR LOANS: Special rates

üåç INTERNATIONAL MICROFINANCE:
‚Ä¢ Grameen Bank Model (Bangladesh origin)
‚Ä¢ Kiva.org - Global crowdfunding
‚Ä¢ Accion International microloans
‚Ä¢ Women's World Banking initiatives

üí° ALTERNATIVE FUNDING:
‚Ä¢ CROWDFUNDING: Ketto, Milaap, GoFundMe
‚Ä¢ ANGEL INVESTORS: For scalable ideas
‚Ä¢ GOVERNMENT GRANTS: NITI Aayog, state schemes
‚Ä¢ FAMILY & FRIENDS: Start with trusted circle
‚Ä¢ REVENUE-BASED FINANCING: Pay from earnings

üìä LOAN APPROVAL TIPS:
‚Ä¢ Maintain good credit score (750+)
‚Ä¢ Keep business records clean
‚Ä¢ Show steady income proof
‚Ä¢ Join SHG for better rates
‚Ä¢ Prepare solid business plan

üîç RED FLAGS TO AVOID:
‚Ä¢ Loans with >18% interest
‚Ä¢ Advance fee frauds
‚Ä¢ Unregistered lenders
‚Ä¢ Hidden charges

Success Rate: SHG members get 90% higher loan approval!`,
        suggestions: ['Mudra loan application', 'Microfinance options', 'Crowdfunding tips', 'Credit score improvement']
      },

      // Advanced marketing strategies
      marketing: {
        keywords: ['marketing', '‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä', 'sale', 'customer', '‡§ó‡•ç‡§∞‡§æ‡§π‡§ï', 'promotion', 'advertisement', 'branding', 'social media'],
        response: `üìà WORLD-CLASS MARKETING STRATEGIES | ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡•ç‡§§‡§∞‡•Ä‡§Ø ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§ø‡§Ç‡§ó ‡§∞‡§£‡§®‡•Ä‡§§‡§ø‡§Ø‡§æ‡§Ç:

üì± DIGITAL MARKETING MASTERY:
‚Ä¢ SOCIAL MEDIA STRATEGY:
  - Instagram: Visual products (food, crafts)
  - Facebook: Community building + ads
  - WhatsApp Business: Direct customer chat
  - YouTube: Tutorial videos (cooking, crafts)
  - Pinterest: Home decor, fashion ideas

‚Ä¢ CONTENT MARKETING:
  - Behind-the-scenes videos
  - Customer testimonials
  - How-to tutorials
  - Before/after transformations

üéØ LOCAL MARKETING TACTICS:
‚Ä¢ WORD-OF-MOUTH CAMPAIGNS:
  - Referral rewards (10% discount)
  - Customer reviews collection
  - Community events participation
  - Local newspaper features

‚Ä¢ GUERRILLA MARKETING:
  - Free samples at bus stops
  - Chalk advertising (where legal)
  - Local festival stalls
  - School/college partnerships

üí∞ PRICING PSYCHOLOGY:
‚Ä¢ Bundle pricing (3 items for ‚Çπ100)
‚Ä¢ Charm pricing (‚Çπ99 instead of ‚Çπ100)
‚Ä¢ Premium positioning vs volume sales
‚Ä¢ Seasonal pricing strategies
‚Ä¢ Early bird discounts

üåç GLOBAL SUCCESS EXAMPLES:
‚Ä¢ FENTY BEAUTY: Inclusive marketing
‚Ä¢ WARBY PARKER: Try-at-home model
‚Ä¢ PATAGONIA: Purpose-driven branding
‚Ä¢ LOCAL SUCCESS: Lijjat Papad's women empowerment story

üìä MARKETING METRICS TO TRACK:
‚Ä¢ Customer acquisition cost
‚Ä¢ Lifetime value
‚Ä¢ Conversion rates
‚Ä¢ Social media engagement
‚Ä¢ Return on ad spend (ROAS)

üé® BRANDING BASICS:
‚Ä¢ Unique value proposition
‚Ä¢ Consistent visual identity
‚Ä¢ Emotional connection
‚Ä¢ Authentic storytelling

Marketing Budget: 10-20% of revenue for growth phase`,
        suggestions: ['Social media calendar', 'Content ideas', 'Branding tips', 'Customer retention']
      },

      // Comprehensive food business guide
      food: {
        keywords: ['food', '‡§ñ‡§æ‡§®‡§æ', 'pickle', '‡§Ö‡§ö‡§æ‡§∞', 'papad', '‡§™‡§æ‡§™‡§°‡§º', 'sweets', '‡§Æ‡§ø‡§†‡§æ‡§à', 'snacks', 'catering', 'restaurant', 'bakery'],
        response: `üçΩÔ∏è COMPLETE FOOD BUSINESS ENCYCLOPEDIA | ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ñ‡§æ‡§¶‡•ç‡§Ø ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§ï‡•ã‡§∂:

üìã LICENSING & COMPLIANCE:
‚Ä¢ FSSAI LICENSE (Food Safety):
  - Basic: ‚Çπ100 (up to ‚Çπ12 lakh turnover)
  - State: ‚Çπ7,500 (up to ‚Çπ20 crore)
  - Central: ‚Çπ7,500 (above ‚Çπ20 crore)
‚Ä¢ GST Registration (if >‚Çπ20 lakh)
‚Ä¢ Trade License from municipality
‚Ä¢ Water testing certificate
‚Ä¢ Pest control certificate

üí∞ PRODUCT-WISE PRICING GUIDE:
‚Ä¢ PICKLES & PRESERVES:
  - Mango pickle: ‚Çπ300-600/kg
  - Mixed veg: ‚Çπ250-400/kg
  - Premium variants: ‚Çπ800-1200/kg
  
‚Ä¢ SNACKS & NAMKEENS:
  - Papad: ‚Çπ100-300/kg
  - Bhujia: ‚Çπ200-400/kg
  - Chips: ‚Çπ300-500/kg
  
‚Ä¢ SWEETS & DESSERTS:
  - Traditional sweets: ‚Çπ400-800/kg
  - Dry fruits sweets: ‚Çπ800-1500/kg
  - Festival specials: 20-30% premium

üì¶ PACKAGING INNOVATIONS:
‚Ä¢ Vacuum sealing for longer shelf life
‚Ä¢ Transparent containers for visibility
‚Ä¢ QR codes for product information
‚Ä¢ Eco-friendly packaging trend
‚Ä¢ Portion control packaging

üåç GLOBAL FOOD TRENDS:
‚Ä¢ HEALTH CONSCIOUS: Organic, sugar-free, gluten-free
‚Ä¢ CONVENIENCE: Ready-to-eat, meal kits
‚Ä¢ AUTHENTIC: Regional specialties
‚Ä¢ ARTISANAL: Handmade, small-batch
‚Ä¢ SUSTAINABLE: Zero waste, local sourcing

üè≠ SCALING STRATEGIES:
‚Ä¢ Start with 2-3 core products
‚Ä¢ Perfect recipes before expanding
‚Ä¢ Build supplier relationships
‚Ä¢ Invest in quality equipment gradually
‚Ä¢ Consider co-packing for growth

üî¨ QUALITY CONTROL:
‚Ä¢ Standard operating procedures (SOPs)
‚Ä¢ Regular taste testing
‚Ä¢ Temperature monitoring
‚Ä¢ Expiry date management
‚Ä¢ Customer feedback integration

üìä FOOD BUSINESS METRICS:
‚Ä¢ Food cost percentage (25-35%)
‚Ä¢ Gross profit margin (65-75%)
‚Ä¢ Inventory turnover
‚Ä¢ Customer repeat rate
‚Ä¢ Seasonal sales patterns

üöö DISTRIBUTION CHANNELS:
‚Ä¢ Direct sales (highest margin)
‚Ä¢ Local grocery stores
‚Ä¢ Online marketplaces
‚Ä¢ Wholesale to restaurants
‚Ä¢ Subscription boxes

REMEMBER: Food safety is non-negotiable!`,
        suggestions: ['FSSAI license process', 'Recipe standardization', 'Packaging solutions', 'Distribution strategies']
      },

      // Comprehensive handicrafts and textiles
      handicrafts: {
        keywords: ['handicraft', '‡§π‡§∏‡•ç‡§§‡§∂‡§ø‡§≤‡•ç‡§™', 'craft', 'textile', '‡§ï‡§™‡§°‡§º‡§æ', 'embroidery', '‡§ï‡§¢‡§º‡§æ‡§à', 'bags', '‡§¨‡•à‡§ó', 'jewelry', 'art'],
        response: `üé® GLOBAL HANDICRAFTS BUSINESS MASTERY | ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§π‡§∏‡•ç‡§§‡§∂‡§ø‡§≤‡•ç‡§™ ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§®‡§ø‡§™‡•Å‡§£‡§§‡§æ:

üåç INTERNATIONAL MARKET OPPORTUNITIES:
‚Ä¢ USA: Home decor market $200+ billion
‚Ä¢ EUROPE: Sustainable fashion growing 20% yearly
‚Ä¢ MIDDLE EAST: Luxury handicrafts demand
‚Ä¢ AUSTRALIA: Ethical fashion movement
‚Ä¢ ONLINE GLOBAL: Etsy, Amazon Handmade

üíé PRODUCT CATEGORIES & PRICING:
‚Ä¢ TEXTILES & CLOTHING:
  - Handwoven scarves: ‚Çπ800-3000
  - Embroidered kurtas: ‚Çπ1500-8000
  - Block print fabrics: ‚Çπ200-800/meter
  - Designer sarees: ‚Çπ5000-50000

‚Ä¢ HOME DECOR:
  - Wall hangings: ‚Çπ500-5000
  - Cushion covers: ‚Çπ300-1500
  - Table runners: ‚Çπ600-2500
  - Lampshades: ‚Çπ800-4000

‚Ä¢ JEWELRY & ACCESSORIES:
  - Handmade jewelry: ‚Çπ200-10000
  - Handbags: ‚Çπ500-8000
  - Phone covers: ‚Çπ150-800
  - Key chains: ‚Çπ50-300

üõçÔ∏è DESIGN INNOVATION TRENDS:
‚Ä¢ FUSION STYLES: Traditional + modern
‚Ä¢ SUSTAINABLE MATERIALS: Organic cotton, jute, bamboo
‚Ä¢ PERSONALIZATION: Custom designs, names, photos
‚Ä¢ MINIMALIST AESTHETICS: Clean, simple designs
‚Ä¢ CULTURAL STORYTELLING: Heritage narratives

üìä COSTING FORMULA:
SELLING PRICE = (Material Cost + Labor Cost + Overhead) √ó 2.5-4
‚Ä¢ Material Cost: 20-30% of selling price
‚Ä¢ Labor: ‚Çπ50-300/hour based on skill
‚Ä¢ Overhead: Electricity, tools, rent (10-15%)
‚Ä¢ Profit Margin: 60-75%

üéØ SKILL DEVELOPMENT AREAS:
‚Ä¢ Color theory and combinations
‚Ä¢ Pattern development
‚Ä¢ Quality finishing techniques
‚Ä¢ Product photography
‚Ä¢ Brand storytelling

üåê EXPORT OPPORTUNITIES:
‚Ä¢ Government Export Promotion Council support
‚Ä¢ Craft exhibitions and trade fairs
‚Ä¢ Export houses and buying agents
‚Ä¢ Direct export through online platforms
‚Ä¢ Participate in international craft fairs

üì± DIGITAL PRESENCE STRATEGY:
‚Ä¢ Instagram: Visual storytelling (use hashtags #handmade #sustainable)
‚Ä¢ Pinterest: Inspiration boards
‚Ä¢ Facebook: Community building
‚Ä¢ YouTube: Process videos
‚Ä¢ Website: Professional portfolio

üîß ESSENTIAL TOOLS & EQUIPMENT:
‚Ä¢ Good lighting setup
‚Ä¢ Quality photography equipment
‚Ä¢ Basic design software knowledge
‚Ä¢ Packaging materials
‚Ä¢ Measuring tools

üìà SCALING STRATEGIES:
‚Ä¢ Standardize popular designs
‚Ä¢ Train other artisans (franchise model)
‚Ä¢ Bulk production for wholesale
‚Ä¢ Private labeling for brands
‚Ä¢ Craft workshop teaching

üèÜ SUCCESS MANTRAS:
‚Ä¢ Quality over quantity always
‚Ä¢ Build personal brand story
‚Ä¢ Network with other artisans
‚Ä¢ Continuous skill upgrading
‚Ä¢ Customer relationship focus

Global handicrafts market: $718 billion - Your opportunity awaits!`,
        suggestions: ['Export procedures', 'Design trends', 'Skill development', 'Global marketing']
      },

      // Comprehensive digital and technology
      digital: {
        keywords: ['digital', 'payment', 'upi', 'online', 'website', 'app', 'computer', 'mobile', 'technology', 'internet', 'ecommerce'],
        response: `üíª COMPLETE DIGITAL TRANSFORMATION GUIDE | ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∞‡•Ç‡§™‡§æ‡§Ç‡§§‡§∞‡§£ ‡§ó‡§æ‡§á‡§°:

üì± DIGITAL PAYMENT ECOSYSTEM:
‚Ä¢ UPI SETUP MASTERY:
  - PhonePe, GPay, Paytm (0% fee for P2P)
  - QR code generation and display
  - Payment link creation
  - Settlement tracking
  - Refund management

‚Ä¢ INTERNATIONAL PAYMENTS:
  - PayPal for global transactions
  - Stripe for online payments
  - Razorpay for Indian businesses
  - Currency conversion considerations

üåê ONLINE PRESENCE BUILDING:
‚Ä¢ WEBSITE ESSENTIALS:
  - Domain registration (‚Çπ500-1500/year)
  - Hosting (‚Çπ2000-5000/year)
  - SSL certificate for security
  - Mobile-responsive design
  - Fast loading speed

‚Ä¢ E-COMMERCE PLATFORMS:
  - Shopify: ‚Çπ2000/month, easy setup
  - WooCommerce: Free with WordPress
  - Amazon/Flipkart seller accounts
  - Instagram/Facebook shops

üìä DIGITAL MARKETING TOOLS:
‚Ä¢ FREE TOOLS:
  - Google My Business (local SEO)
  - Canva for graphics
  - Buffer for social scheduling
  - Google Analytics for tracking
  - Mailchimp for email marketing

‚Ä¢ PAID TOOLS (WORTH INVESTMENT):
  - Hootsuite for social management
  - SEMrush for keyword research
  - Adobe Creative Suite for design
  - Zoho for CRM

üîê CYBERSECURITY BASICS:
‚Ä¢ Strong passwords (12+ characters)
‚Ä¢ Two-factor authentication
‚Ä¢ Regular data backups
‚Ä¢ Secure Wi-Fi usage
‚Ä¢ Fraud detection awareness

üìà DATA ANALYTICS & INSIGHTS:
‚Ä¢ Customer behavior tracking
‚Ä¢ Sales pattern analysis
‚Ä¢ ROI measurement
‚Ä¢ A/B testing for improvements
‚Ä¢ Inventory management systems

üõçÔ∏è OMNICHANNEL STRATEGY:
‚Ä¢ Online + Offline integration
‚Ä¢ Click and collect services
‚Ä¢ Social commerce
‚Ä¢ Mobile-first approach
‚Ä¢ Voice commerce preparation

ü§ñ EMERGING TECHNOLOGIES:
‚Ä¢ AI CHATBOTS: Customer service automation
‚Ä¢ AR/VR: Virtual try-ons
‚Ä¢ BLOCKCHAIN: Supply chain transparency
‚Ä¢ IoT: Smart inventory management
‚Ä¢ VOICE ASSISTANTS: Alexa skills, Google Actions

üí° DIGITAL LITERACY ROADMAP:
BEGINNER:
- Basic smartphone usage
- WhatsApp Business
- Digital payments
- Social media basics

INTERMEDIATE:
- Website management
- Online advertising
- Email marketing
- Basic analytics

ADVANCED:
- E-commerce optimization
- Advanced analytics
- Marketing automation
- API integrations

üåç GLOBAL DIGITAL TRENDS:
‚Ä¢ Video-first content (TikTok, Reels)
‚Ä¢ Live commerce streaming
‚Ä¢ Subscription business models
‚Ä¢ Personalization at scale
‚Ä¢ Sustainability messaging

üéØ DIGITAL ROI MEASUREMENT:
‚Ä¢ Cost per acquisition (CPA)
‚Ä¢ Customer lifetime value (CLV)
‚Ä¢ Return on ad spend (ROAS)
‚Ä¢ Conversion rates
‚Ä¢ Engagement metrics

üìö LEARNING RESOURCES:
‚Ä¢ Google Digital Garage (free courses)
‚Ä¢ Facebook Blueprint (social media)
‚Ä¢ Coursera business courses
‚Ä¢ YouTube tutorials
‚Ä¢ Local digital literacy programs

Remember: Digital is not optional anymore - it's essential for growth!`,
        suggestions: ['Website setup', 'Payment integration', 'Social media marketing', 'Digital security']
      },

      // Comprehensive government schemes and support
      government: {
        keywords: ['government', '‡§∏‡§∞‡§ï‡§æ‡§∞', 'scheme', '‡§Ø‡•ã‡§ú‡§®‡§æ', 'subsidy', '‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä', 'pradhan mantri', 'support', 'grant'],
        response: `üèõÔ∏è COMPREHENSIVE GOVERNMENT SUPPORT ENCYCLOPEDIA | ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§ï‡•ã‡§∂:

üáÆüá≥ CENTRAL GOVERNMENT SCHEMES:

üí∞ FINANCIAL SUPPORT SCHEMES:
‚Ä¢ MUDRA YOJANA:
  - Shishu: Up to ‚Çπ50,000
  - Kishore: ‚Çπ50,001 to ‚Çπ5 lakh
  - Tarun: ‚Çπ5,00,001 to ‚Çπ10 lakh
  - Interest rates: 8-12% annually
  - No collateral required

‚Ä¢ STAND-UP INDIA:
  - For SC/ST/Women entrepreneurs
  - ‚Çπ10 lakh to ‚Çπ1 crore loans
  - For greenfield enterprises
  - 7-year repayment period

‚Ä¢ PMEGP (Prime Minister's Employment Generation Programme):
  - Manufacturing: Up to ‚Çπ25 lakh
  - Service: Up to ‚Çπ10 lakh
  - Subsidy: 15-35% of project cost
  - Own contribution: 5-10%

üéì SKILL DEVELOPMENT PROGRAMS:
‚Ä¢ PMKVY (Pradhan Mantri Kaushal Vikas Yojana):
  - Free skill training
  - ‚Çπ8000 average monetary reward
  - Industry-relevant certification
  - Job placement assistance

‚Ä¢ USTTAD (Upgrading Skills & Training in Traditional Arts/Crafts):
  - For traditional artisans
  - Capacity building
  - Design development
  - Market linkage

üè≠ MANUFACTURING SUPPORT:
‚Ä¢ PLI (Production Linked Incentive):
  - Textile sector incentives
  - Food processing benefits
  - Export promotion
  - Technology upgradation

‚Ä¢ MSME SCHEMES:
  - Credit Guarantee Fund
  - Technology upgradation
  - Marketing assistance
  - ISO certification reimbursement

üë©‚Äçüíº WOMEN-SPECIFIC SCHEMES:
‚Ä¢ MAHILA E-HAAT:
  - Online marketing platform
  - Free registration
  - Direct customer access
  - No commission charges

‚Ä¢ DENA SHAKTI SCHEME:
  - For women entrepreneurs
  - ‚Çπ20 lakh business loans
  - Interest rate concessions
  - Flexible repayment terms

‚Ä¢ STREE SHAKTI PACKAGE:
  - Central Bank of India scheme
  - Lower interest rates
  - Processing fee concessions
  - Collateral-free loans

üåæ AGRICULTURE & RURAL SCHEMES:
‚Ä¢ NABARD SCHEMES:
  - Rural infrastructure development
  - Watershed development
  - Livelihood promotion
  - Microfinance support

‚Ä¢ STARTUP VILLAGE ENTREPRENEURSHIP PROGRAMME:
  - Rural startup support
  - ‚Çπ10 lakh to ‚Çπ1 crore funding
  - Incubation facilities
  - Mentorship support

üè¢ STATE GOVERNMENT SCHEMES (Examples):
‚Ä¢ MAHARASHTRA: Rajiv Gandhi Jeevandayee Scheme
‚Ä¢ KARNATAKA: Yuva Nidhi Scheme
‚Ä¢ TAMIL NADU: New Entrepreneur Cumberland Scheme
‚Ä¢ GUJARAT: Mukhyamantri Yuva Swavalamban Yojana

üåç INTERNATIONAL SUPPORT:
‚Ä¢ WORLD BANK: Women entrepreneurship programs
‚Ä¢ UN WOMEN: Economic empowerment initiatives
‚Ä¢ USAID: Development partnerships
‚Ä¢ British Council: Skills development

üìã APPLICATION PROCESS SIMPLIFIED:
1. IDENTIFY SUITABLE SCHEME
2. GATHER REQUIRED DOCUMENTS:
   - Aadhaar card
   - PAN card
   - Bank statements
   - Business plan
   - Educational certificates
   - Caste certificate (if applicable)

3. ONLINE APPLICATION:
   - Visit official portals
   - Fill forms carefully
   - Upload documents
   - Track application status

4. FOLLOW-UP:
   - Visit regional offices
   - Maintain communication
   - Provide additional documents if needed
   - Attend interviews if required

üí° SUCCESS TIPS:
‚Ä¢ Prepare detailed business plan
‚Ä¢ Keep all documents ready
‚Ä¢ Follow up regularly
‚Ä¢ Join SHGs for better access
‚Ä¢ Attend government workshops
‚Ä¢ Network with other beneficiaries

üîó IMPORTANT PORTALS:
‚Ä¢ www.mudra.org.in
‚Ä¢ www.standupmitra.in
‚Ä¢ www.kviconline.gov.in
‚Ä¢ www.maef.nic.in
‚Ä¢ www.msme.gov.in

üéØ EXPECTED TIMELINES:
‚Ä¢ Documentation: 1-2 weeks
‚Ä¢ Application processing: 15-45 days
‚Ä¢ Loan sanction: 30-90 days
‚Ä¢ Disbursement: 7-15 days after sanction

Remember: Government support is your right - claim it confidently!`,
        suggestions: ['Scheme eligibility', 'Application process', 'Required documents', 'Success stories']
      },

      // Agriculture and rural business
      agriculture: {
        keywords: ['agriculture', '‡§ï‡•É‡§∑‡§ø', 'farming', '‡§ñ‡•á‡§§‡•Ä', 'crop', '‡§´‡§∏‡§≤', 'organic', 'rural', '‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£', 'dairy', 'poultry'],
        response: `üåæ COMPREHENSIVE AGRI-BUSINESS GUIDE | ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡•É‡§∑‡§ø-‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§ó‡§æ‡§á‡§°:

üöú MODERN FARMING TECHNIQUES:
‚Ä¢ PRECISION AGRICULTURE:
  - GPS-guided farming
  - Soil testing and analysis
  - Drone monitoring
  - Weather-based decisions
  - IoT sensors for monitoring

‚Ä¢ ORGANIC FARMING:
  - Premium pricing (20-40% higher)
  - Certification process (‚Çπ20,000-50,000)
  - Export opportunities
  - Health-conscious market
  - Government subsidies available

ü•õ DAIRY BUSINESS OPPORTUNITIES:
‚Ä¢ MILK PRODUCTION:
  - Average yield: 8-15 liters/day per cow
  - Price: ‚Çπ25-45/liter
  - Investment: ‚Çπ50,000-2 lakh per cow
  - ROI: 25-35% annually

‚Ä¢ VALUE-ADDED PRODUCTS:
  - Paneer: ‚Çπ200-400/kg
  - Ghee: ‚Çπ400-800/kg
  - Lassi/Buttermilk: ‚Çπ20-40/glass
  - Ice cream: ‚Çπ100-300/liter

üêî POULTRY FARMING:
‚Ä¢ LAYER FARMING:
  - 250-300 eggs/year per hen
  - Egg price: ‚Çπ4-7 each
  - Setup cost: ‚Çπ200-300 per bird
  - Break-even: 18-24 months

‚Ä¢ BROILER FARMING:
  - 45-day growth cycle
  - 2-2.5 kg average weight
  - Price: ‚Çπ80-120/kg
  - Profit: ‚Çπ20-40 per bird

üå± AGRI-PROCESSING OPPORTUNITIES:
‚Ä¢ FOOD PROCESSING:
  - Fruit pulp and juices
  - Dehydrated vegetables
  - Spice grinding and packing
  - Pickle and preserve making
  - Flour milling

‚Ä¢ VALUE ADDITION:
  - Fresh to processed (3x value increase)
  - Packaging and branding
  - Direct-to-consumer selling
  - Export potential

üåê GLOBAL AGRI-TRENDS:
‚Ä¢ SUSTAINABLE FARMING: Reduced chemical usage
‚Ä¢ VERTICAL FARMING: Urban agriculture
‚Ä¢ HYDROPONICS: Soilless cultivation
‚Ä¢ AQUAPONICS: Fish + plant farming
‚Ä¢ SMART FARMING: AI and ML integration

üí∞ FINANCING OPTIONS:
‚Ä¢ KISAN CREDIT CARD:
  - Up to ‚Çπ3 lakh without collateral
  - 4% interest rate (with subsidy)
  - Flexible repayment
  - Crop insurance linked

‚Ä¢ NABARD SCHEMES:
  - Rural infrastructure development
  - Warehouse financing
  - Cold storage loans
  - Processing unit loans

üìä AGRI-BUSINESS PLANNING:
‚Ä¢ CROP SELECTION CRITERIA:
  - Local climate suitability
  - Market demand analysis
  - Water requirement
  - Investment capacity
  - Risk assessment

‚Ä¢ MARKET LINKAGES:
  - FPOs (Farmer Producer Organizations)
  - Direct procurement by companies
  - Online platforms (BigBasket, Grofers)
  - Export houses
  - Local mandis

üî¨ TECHNOLOGY ADOPTION:
‚Ä¢ MOBILE APPS:
  - Weather forecasting
  - Crop advisory
  - Market prices
  - Government schemes
  - Disease identification

‚Ä¢ EQUIPMENT FINANCING:
  - Tractor loans at 9-12%
  - Custom hiring centers
  - Cooperative farming equipment
  - Lease options available

üåç EXPORT OPPORTUNITIES:
‚Ä¢ ORGANIC PRODUCTS: USA, Europe demand
‚Ä¢ SPICES: Global market leader
‚Ä¢ BASMATI RICE: Premium international demand
‚Ä¢ FRUITS & VEGETABLES: Middle East, SE Asia
‚Ä¢ PROCESSED FOODS: Growing global demand

üìà SUCCESS FACTORS:
‚Ä¢ Quality focus over quantity
‚Ä¢ Market research before planting
‚Ä¢ Risk management (insurance)
‚Ä¢ Continuous learning
‚Ä¢ Technology adoption
‚Ä¢ Collective marketing

Agriculture is not just farming - it's agri-business! ‡§ï‡•É‡§∑‡§ø ‡§ï‡•á‡§µ‡§≤ ‡§ñ‡•á‡§§‡•Ä ‡§®‡§π‡•Ä‡§Ç, ‡§ï‡•É‡§∑‡§ø-‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§π‡•à!`,
        suggestions: ['Crop selection', 'Modern techniques', 'Government schemes', 'Market linkages']
      },

      // Export and international trade
      export: {
        keywords: ['export', '‡§®‡§ø‡§∞‡•ç‡§Ø‡§æ‡§§', 'international', 'foreign', 'global', 'trade', '‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞', 'overseas', 'shipping'],
        response: `üåç COMPLETE EXPORT BUSINESS MASTERY | ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§ø‡§∞‡•ç‡§Ø‡§æ‡§§ ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§®‡§ø‡§™‡•Å‡§£‡§§‡§æ:

üö¢ EXPORT FUNDAMENTALS:
‚Ä¢ WHY EXPORT?
  - 3-5x higher profit margins
  - Currency advantages
  - Business scalability
  - Global market access
  - Government incentives

‚Ä¢ INDIA'S EXPORT STRENGTHS:
  - Textiles & garments
  - Handicrafts & jewelry
  - Food products & spices
  - Pharmaceuticals
  - IT services

üìã EXPORT DOCUMENTATION:
‚Ä¢ ESSENTIAL LICENSES:
  - IEC (Import Export Code): ‚Çπ500 online
  - RCMC (Registration cum Membership Certificate)
  - AD Code from authorized dealer bank
  - GSTIN registration
  - Digital signature certificate

‚Ä¢ SHIPPING DOCUMENTS:
  - Commercial invoice
  - Packing list
  - Bill of lading/Airway bill
  - Certificate of origin
  - Insurance policy

üéØ TARGET MARKETS ANALYSIS:
‚Ä¢ HIGH-DEMAND COUNTRIES:
  - USA: Home decor, textiles, food
  - Germany: Organic products, crafts
  - UK: Fashion, jewelry, tea
  - UAE: Food products, textiles
  - Japan: High-quality handicrafts

‚Ä¢ MARKET ENTRY STRATEGIES:
  - Trade fairs participation
  - B2B platforms (Alibaba, IndiaMART)
  - Export houses partnership
  - Direct buyer contact
  - E-commerce platforms (Amazon Global)

üí∞ FINANCIAL ASPECTS:
‚Ä¢ PRICING STRATEGY:
  - FOB (Free on Board) pricing
  - CIF (Cost, Insurance, Freight) pricing
  - Factor in all costs: product + packaging + shipping + insurance
  - Currency fluctuation buffer (5-10%)
  - Payment terms: L/C, T/T, D/P, D/A

‚Ä¢ PAYMENT SECURITY:
  - Letter of Credit (safest)
  - Bank guarantees
  - Export credit insurance
  - ECGC (Export Credit Guarantee Corporation) support
  - Trade finance options

üè≠ EXPORT PROMOTION SCHEMES:
‚Ä¢ MERCHANDISE EXPORTS FROM INDIA SCHEME (MEIS):
  - 2-5% duty credit scrips
  - Transferable and sellable
  - Product and country specific

‚Ä¢ EXPORT PROMOTION CAPITAL GOODS (EPCG):
  - Duty-free import for export production
  - Export obligation: 6x CIF value in 6 years
  - Technology upgradation

‚Ä¢ ADVANCE AUTHORIZATION:
  - Duty-free import of raw materials
  - For export production only
  - Brand rate or standard input output norms

üì¶ PACKAGING & LOGISTICS:
‚Ä¢ EXPORT PACKAGING REQUIREMENTS:
  - Climate-resistant materials
  - International shipping standards
  - Country-specific regulations
  - Eco-friendly options preferred
  - Proper labeling and marking

‚Ä¢ SHIPPING OPTIONS:
  - Sea freight: Cost-effective for bulk
  - Air freight: Fast but expensive
  - Courier: Small consignments
  - Container shipping: FCL vs LCL

üîç QUALITY STANDARDS:
‚Ä¢ INTERNATIONAL CERTIFICATIONS:
  - ISO standards
  - CE marking (Europe)
  - FDA approval (USA)
  - Organic certifications
  - Fair trade certifications

‚Ä¢ TESTING & INSPECTION:
  - Pre-shipment inspection
  - Third-party quality certificates
  - Lab testing reports
  - Compliance certificates

üåê DIGITAL EXPORT STRATEGIES:
‚Ä¢ ONLINE PLATFORMS:
  - Amazon Global Selling
  - eBay International
  - Etsy Worldwide
  - IndiaMART Export
  - Tradeindia.com

‚Ä¢ DIGITAL MARKETING:
  - SEO for global keywords
  - Social media in target countries
  - Email marketing campaigns
  - Trade portal listings
  - Virtual trade fair participation

üìà SCALING EXPORT BUSINESS:
‚Ä¢ START SMALL:
  - Begin with neighboring countries
  - Test products in small quantities
  - Learn from initial experiences
  - Build relationships gradually

‚Ä¢ GROWTH STRATEGIES:
  - Product diversification
  - Market expansion
  - Capacity building
  - Technology upgradation
  - Strategic partnerships

üéì EXPORT TRAINING & SUPPORT:
‚Ä¢ GOVERNMENT SUPPORT:
  - Export promotion councils
  - FIDR (Federation of Indian Export Organizations)
  - State export promotion agencies
  - Export training institutes

‚Ä¢ PRACTICAL STEPS:
  - Join export-oriented trade associations
  - Attend export training programs
  - Participate in buyer-seller meets
  - Study successful export case studies

üí° SUCCESS MANTRAS:
‚Ä¢ Quality is non-negotiable
‚Ä¢ Timely delivery builds trust
‚Ä¢ Cultural sensitivity matters
‚Ä¢ Long-term relationship focus
‚Ä¢ Continuous market research
‚Ä¢ Regulatory compliance always

üèÜ INDIAN EXPORT SUCCESS STORIES:
‚Ä¢ Fabindia: Handicrafts to 20+ countries
‚Ä¢ Titan: Jewelry exports to 40+ countries
‚Ä¢ Amul: Dairy products global reach
‚Ä¢ Tata Tea: International tea brand
‚Ä¢ Raymond: Textile exports worldwide

Global trade is your gateway to prosperity! ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§Æ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡§æ ‡§¶‡•ç‡§µ‡§æ‡§∞ ‡§π‡•à!`,
        suggestions: ['Export documentation', 'Target markets', 'Quality standards', 'Government schemes']
      },

      // Legal and compliance
      legal: {
        keywords: ['legal', '‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä', 'license', '‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏', 'registration', '‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£', 'compliance', 'tax', 'gst'],
        response: `‚öñÔ∏è COMPLETE LEGAL & COMPLIANCE GUIDE | ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§î‡§∞ ‡§Ö‡§®‡•Å‡§™‡§æ‡§≤‡§® ‡§ó‡§æ‡§á‡§°:

üìã BUSINESS REGISTRATION OPTIONS:
‚Ä¢ SOLE PROPRIETORSHIP:
  - Simplest form, no separate registration
  - Personal liability unlimited
  - Income taxed as personal income
  - Suitable for small businesses

‚Ä¢ PARTNERSHIP FIRM:
  - 2-20 partners maximum
  - Partnership deed required
  - Joint and several liability
  - Registration optional but recommended

‚Ä¢ LLP (Limited Liability Partnership):
  - Limited liability protection
  - Minimum 2 designated partners
  - Annual compliance required
  - Registration cost: ‚Çπ7,000-15,000

‚Ä¢ PRIVATE LIMITED COMPANY:
  - Separate legal entity
  - Limited liability protection
  - Minimum 2 directors, 2 shareholders
  - Higher compliance requirements
  - Registration cost: ‚Çπ10,000-25,000

üè™ ESSENTIAL LICENSES & REGISTRATIONS:
‚Ä¢ BASIC REQUIREMENTS:
  - Shop & Establishment License: ‚Çπ500-5,000
  - Trade License from local authority: ‚Çπ1,000-10,000
  - Fire Safety Certificate (if required)
  - Pollution Control Certificate (manufacturing)
  - Signage License (for outdoor displays)

‚Ä¢ SECTOR-SPECIFIC LICENSES:
  - FSSAI (Food): ‚Çπ100-7,500
  - BIS (Manufacturing): ‚Çπ5,000-50,000
  - Drug License (Pharmaceuticals): ‚Çπ2,500-25,000
  - Textile License: State-specific
  - Export-Import License (IEC): ‚Çπ500

üí∞ TAX COMPLIANCE:
‚Ä¢ GST (Goods and Services Tax):
  - Registration mandatory if turnover >‚Çπ20 lakh (‚Çπ10 lakh for NE states)
  - Monthly/Quarterly returns filing
  - Input tax credit benefits
  - Composition scheme for small businesses (1-8% tax)

‚Ä¢ INCOME TAX:
  - Business income under "Profits and Gains from Business"
  - Presumptive taxation for eligible businesses
  - Advance tax payment if liability >‚Çπ10,000
  - ITR filing by July 31st

‚Ä¢ TDS (Tax Deducted at Source):
  - On payments >‚Çπ30,000 to contractors
  - On rent >‚Çπ2.4 lakh annually
  - Monthly TDS returns
  - TDS certificates to deductees

üë• LABOR LAW COMPLIANCE:
‚Ä¢ FACTORIES ACT (if applicable):
  - 10+ workers with power or 20+ without power
  - License from factory inspector
  - Safety measures mandatory
  - Worker welfare provisions

‚Ä¢ CONTRACT LABOR ACT:
  - 20+ contract workers
  - License from labor department
  - Contractor registration
  - Welfare measures

‚Ä¢ MINIMUM WAGES ACT:
  - State-specific minimum wages
  - Regular revision notifications
  - Proper wage records maintenance
  - Timely payment obligations

üõ°Ô∏è INTELLECTUAL PROPERTY PROTECTION:
‚Ä¢ TRADEMARK REGISTRATION:
  - Brand name and logo protection
  - 10-year validity, renewable
  - Cost: ‚Çπ4,500-9,000
  - Online application through IP India

‚Ä¢ COPYRIGHT:
  - Automatic protection for creative works
  - Optional registration for stronger protection
  - Cost: ‚Çπ500-2,000
  - Lifetime + 60 years protection

‚Ä¢ DESIGN REGISTRATION:
  - Product design protection
  - 10-year initial period, extendable to 15 years
  - Cost: ‚Çπ1,000-4,000
  - Novelty requirement

üìù CONTRACTS & AGREEMENTS:
‚Ä¢ SUPPLIER AGREEMENTS:
  - Quality specifications
  - Delivery terms
  - Payment conditions
  - Penalty clauses

‚Ä¢ CUSTOMER CONTRACTS:
  - Service level agreements
  - Terms and conditions
  - Liability limitations
  - Dispute resolution mechanisms

‚Ä¢ EMPLOYMENT CONTRACTS:
  - Job descriptions
  - Compensation details
  - Confidentiality clauses
  - Termination conditions

üè¶ BANKING & FINANCIAL COMPLIANCE:
‚Ä¢ BUSINESS BANK ACCOUNT:
  - Separate account for business transactions
  - Required documents vary by bank
  - KYC compliance
  - Regular monitoring for suspicious transactions

‚Ä¢ FINANCIAL RECORD KEEPING:
  - Books of accounts maintenance
  - Receipt and payment records
  - Asset and liability statements
  - Supporting vouchers preservation

üîí DATA PROTECTION & PRIVACY:
‚Ä¢ PERSONAL DATA PROTECTION:
  - Customer data security
  - Consent for data collection
  - Data breach notification
  - Right to data portability

‚Ä¢ CYBER SECURITY:
  - Secure payment gateways
  - Regular software updates
  - Employee training on cyber threats
  - Data backup and recovery plans

‚ö†Ô∏è COMMON LEGAL PITFALLS TO AVOID:
‚Ä¢ Operating without required licenses
‚Ä¢ Ignoring tax compliance deadlines
‚Ä¢ Inadequate contract documentation
‚Ä¢ Intellectual property infringement
‚Ä¢ Non-compliance with labor laws
‚Ä¢ Poor record maintenance

üìû PROFESSIONAL SUPPORT:
‚Ä¢ CHARTERED ACCOUNTANT: Tax and financial compliance
‚Ä¢ COMPANY SECRETARY: Corporate law compliance
‚Ä¢ LAWYER: Legal documentation and disputes
‚Ä¢ TRADEMARK AGENT: IP protection
‚Ä¢ LABOR CONSULTANT: Employment law compliance

üí° COMPLIANCE CALENDAR:
‚Ä¢ Monthly: GST returns, TDS returns
‚Ä¢ Quarterly: GST annual return, advance tax
‚Ä¢ Annually: Income tax return, labor law returns
‚Ä¢ As required: License renewals, audit reports

üéØ BEST PRACTICES:
‚Ä¢ Maintain proper documentation
‚Ä¢ Seek professional advice when needed
‚Ä¢ Stay updated with law changes
‚Ä¢ Regular compliance audits
‚Ä¢ Technology adoption for record keeping

Legal compliance is not a choice - it's a business necessity! ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§Ö‡§®‡•Å‡§™‡§æ‡§≤‡§® ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§®‡§π‡•Ä‡§Ç, ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞‡§ø‡§ï ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à!`,
        suggestions: ['Business registration', 'License requirements', 'Tax compliance', 'Legal documentation']
      }
    };

    // Check which category the message belongs to
    for (const [category, data] of Object.entries(businessDatabase)) {
      if (data.keywords.some(keyword => lowerMessage.includes(keyword))) {
        return {
          response: data.response,
          confidence: 0.85,
          suggestions: data.suggestions,
          isAI: false
        };
      }
    }

    // Default response for unmatched queries
    return {
      response: `üåü ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç ‡§∏‡§ñ‡•Ä ‡§π‡•Ç‡§Ç - ‡§Ü‡§™‡§ï‡•Ä ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞‡§ø‡§ï ‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§∏‡§æ‡§•‡•Ä! 
Hello! I'm Sakhi - Your AI Business Success Partner! üåü

üöÄ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§á‡§® ‡§∏‡§≠‡•Ä ‡§¨‡§æ‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•Ç‡§Ç:
I can help you with all these topics:

üí∞ **‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§î‡§∞ ‡§´‡§Ç‡§°‡§ø‡§Ç‡§ó | Business & Funding:**
‚Ä¢ ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§ï‡•à‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç | How to start business
‚Ä¢ ‡§≤‡•ã‡§® ‡§î‡§∞ ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç | Loans & government schemes  
‚Ä¢ ‡§¨‡§ú‡§ü ‡§™‡•ç‡§≤‡§æ‡§®‡§ø‡§Ç‡§ó | Budget planning

üìà **‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä | Marketing & Sales:**
‚Ä¢ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§ø‡§Ç‡§ó | Digital marketing
‚Ä¢ ‡§™‡•ç‡§∞‡§æ‡§á‡§∏‡§ø‡§Ç‡§ó ‡§∞‡§£‡§®‡•Ä‡§§‡§ø | Pricing strategies
‚Ä¢ ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§∏‡§Ç‡§¨‡§Ç‡§ß | Customer relationships

üè≠ **‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§ï‡•à‡§ü‡•á‡§ó‡§∞‡•Ä | Product Categories:**
‚Ä¢ ‡§ñ‡§æ‡§¶‡•ç‡§Ø ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ | Food business (‡§Ö‡§ö‡§æ‡§∞, ‡§™‡§æ‡§™‡§°‡§º, ‡§Æ‡§ø‡§†‡§æ‡§à)
‚Ä¢ ‡§π‡§∏‡•ç‡§§‡§∂‡§ø‡§≤‡•ç‡§™ | Handicrafts (‡§ï‡§¢‡§º‡§æ‡§à, ‡§¨‡•à‡§ó‡•ç‡§∏, ‡§ú‡•ç‡§µ‡•á‡§≤‡§∞‡•Ä)
‚Ä¢ ‡§ï‡•É‡§∑‡§ø ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ | Agriculture business
‚Ä¢ ‡§®‡§ø‡§∞‡•ç‡§Ø‡§æ‡§§ ‡§Ö‡§µ‡§∏‡§∞ | Export opportunities

üíª **‡§ü‡•á‡§ï‡•ç‡§®‡•ã‡§≤‡•â‡§ú‡•Ä | Technology:**
‚Ä¢ ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡•á‡§ü‡§Ö‡§™ | Digital payment setup
‚Ä¢ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§¨‡§ø‡§ú‡§®‡•á‡§∏ | Online business
‚Ä¢ ‡§∏‡•ã‡§∂‡§≤ ‡§Æ‡•Ä‡§°‡§ø‡§Ø‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§ø‡§Ç‡§ó | Social media marketing

‚öñÔ∏è **‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§Æ‡§æ‡§Æ‡§≤‡•á | Legal Matters:**
‚Ä¢ ‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏ ‡§î‡§∞ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§∂‡§® | Licenses & registration
‚Ä¢ GST ‡§î‡§∞ ‡§ü‡•à‡§ï‡•ç‡§∏ | GST & tax compliance
‚Ä¢ ‡§¨‡§ø‡§ú‡§®‡•á‡§∏ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§∂‡§® | Business registration

üéØ **‡§Ü‡§™ ‡§Ø‡§π ‡§≠‡•Ä ‡§™‡•Ç‡§õ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç | You can also ask:**
‚Ä¢ "‡§Æ‡•Å‡§ù‡•á ‚Çπ50,000 ‡§Æ‡•á‡§Ç ‡§ï‡•å‡§® ‡§∏‡§æ ‡§¨‡§ø‡§ú‡§®‡•á‡§∏ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è?"
‚Ä¢ "How to export handicrafts to USA?"
‚Ä¢ "‡§Ö‡§ö‡§æ‡§∞ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•å‡§® ‡§∏‡§æ ‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏ ‡§ö‡§æ‡§π‡§ø‡§è?"
‚Ä¢ "Digital marketing ‡§ï‡•à‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç?"
‚Ä¢ "‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç ‡§Æ‡§π‡§ø‡§≤‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è?"

üí° **‡§Ü‡§™‡§ï‡•á ‡§∏‡§µ‡§æ‡§≤ ‡§ï‡§æ ‡§á‡§Ç‡§§‡§ú‡§æ‡§∞ ‡§π‡•à! Ready for your questions!**
‡§Ö‡§™‡§®‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ üé§ ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§ï‡§∞ ‡§¨‡•ã‡§≤‡•á‡§Ç!
Type your question or press üé§ to speak!`,
      confidence: 0.7,
      suggestions: [
        '‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§ï‡•à‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç?',
        'How to get business loan?', 
        '‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü‡§ø‡§Ç‡§ó ‡§ü‡§ø‡§™‡•ç‡§∏',
        'Export opportunities',
        '‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç',
        'Digital payment setup',
        'FSSAI license process',
        'Handicraft business ideas'
      ],
      isAI: false
    };
  }

  private generateSuggestions(message: string): string[] {
    const allSuggestions = [
      // Business Starting
      '‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§ï‡•à‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç?',
      'Business plan template',
      'Investment calculation',
      'Market research tips',
      
      // Funding & Loans
      'Mudra loan application',
      'Government schemes list',
      'Microfinance options',
      'Angel investor pitch',
      
      // Marketing & Sales
      'Digital marketing strategy',
      'Social media tips',
      'Pricing psychology',
      'Customer retention',
      
      // Food Business
      'FSSAI license process',
      'Food packaging ideas',
      'Recipe standardization',
      'Shelf life extension',
      
      // Handicrafts
      'Export procedures',
      'Design innovation',
      'Quality control',
      'Online selling platforms',
      
      // Agriculture
      'Organic farming benefits',
      'Crop selection guide',
      'Modern farming techniques',
      'Agri-processing ideas',
      
      // Export Business
      'Export documentation',
      'International quality standards',
      'Target market analysis',
      'Shipping procedures',
      
      // Technology & Digital
      'Website creation',
      'UPI setup guide',
      'E-commerce platforms',
      'Cybersecurity basics',
      
      // Legal & Compliance
      'Business registration types',
      'GST compliance',
      'Labor law requirements',
      'Trademark registration',
      
      // General Business
      'Scaling strategies',
      'Risk management',
      'Financial planning',
      'Success metrics',
      
      // Hindi Suggestions
      '‡§ï‡§Æ ‡§™‡•à‡§∏‡•á ‡§Æ‡•á‡§Ç ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞',
      '‡§ò‡§∞ ‡§∏‡•á ‡§¨‡§ø‡§ú‡§®‡•á‡§∏ ‡§Ü‡§á‡§°‡§ø‡§Ø‡§æ',
      '‡§Æ‡§π‡§ø‡§≤‡§æ ‡§â‡§¶‡•ç‡§Ø‡§Æ‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ',
      '‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡•á‡§ü‡§Ö‡§™'
    ];
    
    return allSuggestions.sort(() => 0.5 - Math.random()).slice(0, 4);
  }

  async generatePosterContent(businessType: string, businessName: string): Promise<string> {
    if (!this.hasApiKey()) {
      return this.getFallbackPosterContent(businessType, businessName);
    }

    try {
      const prompt = `Generate compelling poster content for a ${businessType} business named "${businessName}" run by a rural woman entrepreneur. Include:
- Catchy headline in Hindi and English
- Key selling points
- Contact call-to-action
Keep it simple and culturally appropriate.`;

      const response = await fetch(this.baseURL, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`
        },
        body: JSON.stringify({
          model: 'gpt-4',
          messages: [{ role: 'user', content: prompt }],
          max_tokens: 300,
          temperature: 0.8
        })
      });

      if (!response.ok) {
        throw new Error(`API request failed: ${response.status}`);
      }

      const data = await response.json();
      return data.choices[0].message.content;
    } catch (error) {
      console.error('Poster generation error:', error);
      return this.getFallbackPosterContent(businessType, businessName);
    }
  }

  private getFallbackPosterContent(businessType: string, businessName: string): string {
    const templates = {
      'handicrafts': `üé® ${businessName} üé®
‡§π‡§∏‡•ç‡§§‡§∂‡§ø‡§≤‡•ç‡§™ ‡§ï‡•Ä ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à!
Welcome to the world of handicrafts!

‚ú® ‡§π‡§æ‡§• ‡§∏‡•á ‡§¨‡§®‡•á ‡§ñ‡•Ç‡§¨‡§∏‡•Ç‡§∞‡§§ ‡§∏‡§æ‡§Æ‡§æ‡§®
‚ú® ‡§ï‡§ø‡§´‡§æ‡§Ø‡§§‡•Ä ‡§¶‡§æ‡§Æ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§â‡§ö‡•ç‡§ö ‡§ó‡•Å‡§£‡§µ‡§§‡•ç‡§§‡§æ  
‚ú® Hand-made beautiful items
‚ú® High quality at affordable prices

üìû ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç - Contact Us Today!`,
      
      'food': `üçΩÔ∏è ${businessName} üçΩÔ∏è
‡§ò‡§∞ ‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§¶, ‡§Æ‡§æ‡§Ç ‡§ï‡§æ ‡§™‡•ç‡§Ø‡§æ‡§∞!
Home taste, Mother's love!

üåü ‡§§‡§æ‡§ú‡§º‡§æ ‡§î‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§¶‡§ø‡§∑‡•ç‡§ü ‡§ñ‡§æ‡§®‡§æ
üåü ‡§∏‡•ç‡§µ‡§ö‡•ç‡§õ‡§§‡§æ ‡§ï‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§ß‡•ç‡§Ø‡§æ‡§®
üåü Fresh and delicious food
üåü Complete hygiene maintained

üìû ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç - Call to Order!`,
      
      'textiles': `üëó ${businessName} üëó
‡§´‡•à‡§∂‡§® ‡§ï‡•Ä ‡§®‡§à ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ!
New world of fashion!

üí´ ‡§ü‡•ç‡§∞‡•á‡§Ç‡§°‡•Ä ‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§®‡•ç‡§∏
üí´ ‡§∏‡§≠‡•Ä ‡§∏‡§æ‡§á‡§ú‡§º ‡§â‡§™‡§≤‡§¨‡•ç‡§ß
üí´ Trendy designs
üí´ All sizes available

üìû ‡§Ü‡§ú ‡§π‡•Ä ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç - Contact Today!`
    };

    return templates[businessType as keyof typeof templates] || 
           `üåü ${businessName} üåü
‡§ó‡•Å‡§£‡§µ‡§§‡•ç‡§§‡§æ ‡§î‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø‡§§‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ!
Name of quality and reliability!

‚úÖ ‡§¨‡•á‡§π‡§§‡§∞‡•Ä‡§® ‡§∏‡•á‡§µ‡§æ - Excellent service
‚úÖ ‡§â‡§ö‡§ø‡§§ ‡§¶‡§æ‡§Æ - Fair prices
‚úÖ ‡§∏‡§Ç‡§§‡•Å‡§∑‡•ç‡§ü ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï - Satisfied customers

üìû ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç - Contact Us!`;
  }
}

export const aiService = new AIService();
export type { ChatMessage, AIResponse };
